$(function(){var h=$(location.hash);var k,j;function c(){var p=$(window).height(),n=$(window).width(),m=100,o=100;if(!k){k=f.height();j=f.width()}if(n/p>j/k){o=n;m=n/(j/k)}else{m=p;o=p/(k/j)}f.css({height:m+"px",width:o+"px",top:(p-m)/2+"px"})}var g=function(){try{Typekit.load()}catch(m){setTimeout(g,200)}};setTimeout(function(){$("head").append('<script src="//use.typekit.com/ith3lis.js"><\/script>');g()});var e=[1,14,19,25,30],l=e[Math.floor(Math.random()*e.length)],f=$("#intro img");f.attr("src","images/intro/"+l+".jpg");f.load(function(){c();f.animate({opacity:1},2000);setTimeout(function(){$("#intro").fadeOut();if(location.hash){h.fadeIn(2000)}else{location.hash="#index"}},3000)});$(window).bind("resize",c);$("#photography").slideshow();$("#abeo").slideshow();$("#existentia").slideshow();$("#pulpa").slideshow();$("#solus").slideshow();$("#london").slideshow();if(!Modernizr.csstransitions){$("header").mouseenter(function(){$(this).animate({bottom:0})}).mouseleave(function(){$(this).animate({bottom:"-40px"})})}$("#poetry header").css({minHeight:$(window).height()-350+"px"});var i=function(){$("#contact").css({minHeight:$(window).height()-250})};$(window).bind("resize",i);i();var b=function(){h.fadeOut(2000);h=$(location.hash);h.fadeIn(2000)};$(window).bind("hashchange",b);if(!Modernizr.hashchange){var d=location.hash;setInterval(function(){if(d!=location.hash){d=location.hash;b()}},100)}setTimeout(function(){$("[data-src]").each(function(){var m=$(this);m.attr("src",m.attr("data-src"))})},1000);var a=function(){var m=$(window).height();$("#art").css({height:m-40+"px"});$("#art article").css({height:m-40+"px"});$("#art img").css({height:m-200+"px"});$("#interior").css({height:m-40+"px"});$("#interior article").css({height:m-40+"px"});$("#interior img").css({height:m-200+"px"})};$(window).bind("resize",a);a()});(function(a){a.fn.slideshow=function(){var b=a(this).find("figure"),e=0,c=b.length;var d=function(g){if(g==c){g=0}else{if(g<0){g=c-1}}var h=b.eq(e),f=b.eq(g);h.css({zIndex:10}).fadeOut();f.hide().css({zIndex:11}).fadeIn(function(){h.hide()});e=g};b.hide().eq(0).show();a(this).find(".next").click(function(){d(e+1);return false});a(this).find(".previous").click(function(){d(e-1);return false})}})(jQuery);